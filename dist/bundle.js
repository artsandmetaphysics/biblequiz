!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);r(1);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,c=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,c=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw c}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=["Genesis","Exodus","Leviticus","Numbers","Deuteronomy"],f=[50,40,27,36,34];function m(){var e=function(e){var t=y(e.reduce(function(e,t){return e+t})),r=0,n=e[r];for(;t>=n;)n+=e[r+=1];return r}(f),t=PENTATEUCH[e].chapters,r=y(t.length);return[e+1,r+1,y(t[r].verses.length)+1]}function h(e){var t,r,n;if(3===e.length){var o=u(e,3);return t=o[0],r=o[1],n=o[2],p(t)+" "+r+"."+n}if(2===e.length){var c=u(e,2);return t=c[0],r=c[1],p(t)+" "+r}}function p(e){return s[e-1]}function y(e){return Math.floor(Math.random()*Math.floor(e))}function b(e,t,r){var n=0,o=u(r,3),c=o[0],a=o[1];o[2];if(e===c){n+=10;var l=Math.abs(t-a);0===l?n+=90:l<=5&&(n+=60-10*l)}return n}function v(e){var t=u(e,3),r=t[0],n=t[1],o=t[2],c=PENTATEUCH[r-1].chapters[n-1].verses[o-1];return void 0===c?null:c[String(o)]}var d=function(e){function t(e){var r,o,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(r=!(c=a(t).call(this,e))||"object"!==n(c)&&"function"!=typeof c?l(o):c).state={score:0,questionNum:0,verse:m(),bookChoice:null,chapterChoice:null,history:S(),showHistory:!1},r.pickBook=r.pickBook.bind(l(r)),r.undoBookChoice=r.undoBookChoice.bind(l(r)),r.pickChapter=r.pickChapter.bind(l(r)),r.nextQuestion=r.nextQuestion.bind(l(r)),r.nextQuiz=r.nextQuiz.bind(l(r)),r}var r,u,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(t,React.Component),r=t,(u=[{key:"pickBook",value:function(e){this.setState({bookChoice:e})}},{key:"undoBookChoice",value:function(){this.setState({bookChoice:null})}},{key:"pickChapter",value:function(e){this.setState(function(t){var r=b(t.bookChoice,e,t.verse);return{chapterChoice:e,questionNum:t.questionNum+1,score:t.score+r}})}},{key:"nextQuestion",value:function(){this.setState(function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){o(e,t,r[t])})}return e}({},e,{verse:m(),bookChoice:null,chapterChoice:null});if(10===e.questionNum){var r=function(e){var t=(new Date).toLocaleString(),r=S(),n={dateTimeString:t,score:e};return r.push(n),o="history",c=r,localStorage.setItem(o,JSON.stringify(c)),n;var o,c}(e.score);t.history.push(r),t.score=0,t.questionNum=0,t.showHistory=!0}return t})}},{key:"nextQuiz",value:function(){this.setState({showHistory:!1})}},{key:"render",value:function(){var e,t,r=this.state,n=r.score,o=r.questionNum,c=r.verse,a=r.bookChoice,l=r.chapterChoice,i=r.showHistory,u=r.history;return i?e=this.nextQuiz:null===a?(e=this.pickBook,t=!1):null===l?(e=this.pickChapter,t=!1):(e=this.nextQuestion,t=!0),React.createElement("div",{className:"app"},React.createElement(E,{score:n,questionNum:o,questionsPerQuiz:10}),i?React.createElement(k,{history:u}):React.createElement(R,{showAnswer:t,verse:c,bookChoice:a,chapterChoice:l}),React.createElement(N,{bookChoice:a,chapterChoice:l,onClick:e,goBack:this.undoBookChoice,showHistory:i}))}}])&&c(r.prototype,u),s&&c(r,s),t}();function E(e){var t=e.score,r=e.questionNum,n=e.questionsPerQuiz;return React.createElement("div",{className:"header"},React.createElement("h2",null,"Pentateuch Quiz"),React.createElement("h2",{className:"glow"},"SCORE: ",t),React.createElement("h2",{className:"glow"},r,"/",n))}function R(e){var t=e.showAnswer,r=e.verse,n=e.bookChoice,o=e.chapterChoice;if(t){var c,a=h([n,o]),l=b(n,o,r);return c=r[0]===n&&r[1]===o?React.createElement("p",{className:"body__correct"},"CORRECT!",React.createElement("br",null),"+",l," points!"):r[0]===n?React.createElement("p",{className:"body__close"},"Close, you chose ",a,".",React.createElement("br",null),"+",l," points"):React.createElement("p",{className:"body__wrong"},"Wrong, you chose ",a),React.createElement("div",{className:"body"},React.createElement("h2",null,h(r)),React.createElement(C,{verseArray:r}),c)}return React.createElement("div",{className:"body"},React.createElement(C,{verseArray:r}))}function k(e){var t=function(e,t){return t.score-e.score},r=e.history.slice(),n=r.pop();r.sort(t);var o=r.slice(0,9);return o.push(n),o.sort(t),React.createElement("div",{className:"body"},React.createElement("p",null,"Thank you for playing!"),React.createElement("table",null,React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null),React.createElement("th",null,"Score"),React.createElement("th",null,"Date"))),React.createElement("tbody",null,o.map(function(e,t){return React.createElement("tr",{key:t,style:(r=e,r.dateTimeString===n.dateTimeString?{color:"#23BD98"}:{})},React.createElement("td",null,t+1),React.createElement("td",{style:{textAlign:"right"}},e.score),React.createElement("td",null,e.dateTimeString));var r}))))}function C(e){var t=e.verseArray,r=function(e){var t=u(e,3),r=t[0],n=t[1],o=t[2];return 1===o?null:v([r,n,o-1])}(t),n=v(t),o=function(e){var t=u(e,3),r=t[0],n=t[1],o=t[2];return v([r,n,o+1])||null}(t);return React.createElement("p",null,r?React.createElement("span",{className:"body__context"},r+" "):null,React.createElement("span",null,n),o?React.createElement("span",{className:"body__context"}," "+o):null)}var g=["#EC6B34","#3C64DC","#55AEEE","#AE9BFB","#F59A2F"];function N(e){var t=e.bookChoice,r=e.chapterChoice,n=e.onClick,o=e.goBack;if(e.showHistory)return React.createElement("div",{className:"footer"},React.createElement("p",{className:"footer__help"},"Please share with friends!",React.createElement("br",null),"More quizzes will come if interest ",React.createElement("a",{href:"mailto:artsandmetaphysics@gmail.com"},"Contact Creator")),React.createElement(w,{color:"#5D4DC3",onClick:n},"Start New Quiz"));if(null===t)return React.createElement("div",{className:"footer"},React.createElement("p",{className:"footer__help"},"Which book is the ",React.createElement("span",{style:{color:"#333"}},"black")," verse in?"),React.createElement(w,{color:g[0],onClick:function(){return n(1)}},"Genesis"),React.createElement(w,{color:g[1],onClick:function(){return n(2)}},"Exodus"),React.createElement(w,{color:g[2],onClick:function(){return n(3)}},"Leviticus"),React.createElement(w,{color:g[3],onClick:function(){return n(4)}},"Numbers"),React.createElement(w,{color:g[4],onClick:function(){return n(5)}},"Deut."));if(null===r){var c=f[t-1],a=Array.apply(null,{length:c}).map(Number.call,Number),l=g[t-1];return React.createElement("div",{className:"footer"},React.createElement("p",{className:"footer__help"},"And which chapter?"),a.map(function(e){return React.createElement(w,{color:l,key:e,onClick:function(){return n(e+1)}},e+1)}),React.createElement(w,{color:"#999",onClick:o},"Back"))}return React.createElement("div",{className:"footer"},React.createElement(w,{color:"#5D4DC3",onClick:n},"Next Question"))}function w(e){var t=e.children,r=e.onClick,n=e.color;return React.createElement("div",{style:{backgroundColor:n},className:"button",onClick:r},t)}function S(){var e=function(e,t){try{return JSON.parse(localStorage.getItem("history"))}catch(e){return null}}();return null===e&&(e=[]),e}ReactDOM.render(React.createElement(d,{name:"Taylor"}),document.getElementById("app"))},function(e,t,r){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQk9PS1MiLCJDSEFQVEVSU19QRVJfQk9PSyIsImdldFJhbmRvbVZlcnNlIiwiYm9va0luZGV4IiwibGVuZ3RocyIsImdldFJhbmRvbUludCIsInJlZHVjZSIsInBhcnRpYWxfc3VtIiwiYSIsImluZGV4IiwicnVubmluZ1N1bSIsImdldFJhbmRvbUludFdlaWdodGVkIiwiY2hhcHRlcnMiLCJQRU5UQVRFVUNIIiwiY2hhcHRlckluZGV4IiwibGVuZ3RoIiwidmVyc2VzIiwidmVyc2VUb0xhYmVsIiwidmVyc2VBcnJheSIsImJvb2tOdW0iLCJjaGFwdGVyIiwidmVyc2UiLCJfdmVyc2VBcnJheSIsIl9zbGljZWRUb0FycmF5IiwiYm9va051bVRvTGFiZWwiLCJfdmVyc2VBcnJheTIiLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJnZXRQb2ludHMiLCJib29rQ2hvaWNlIiwiY2hhcHRlckNob2ljZSIsImFuc3dlclZlcnNlQXJyYXkiLCJwb2ludHMiLCJfYW5zd2VyVmVyc2VBcnJheSIsImJvb2tBbnN3ZXIiLCJjaGFwdGVyQW5zd2VyIiwiY2hhcHRlcnNPZmYiLCJhYnMiLCJnZXRWZXJzZVRleHQiLCJfdmVyc2VBcnJheTMiLCJjaGFwdGVyTnVtIiwidmVyc2VOdW0iLCJ1bmRlZmluZWQiLCJTdHJpbmciLCJBcHAiLCJwcm9wcyIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9nZXRQcm90b3R5cGVPZiIsInN0YXRlIiwic2NvcmUiLCJxdWVzdGlvbk51bSIsImhpc3RvcnkiLCJsb2FkSGlzdG9yeSIsInNob3dIaXN0b3J5IiwicGlja0Jvb2siLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwidW5kb0Jvb2tDaG9pY2UiLCJwaWNrQ2hhcHRlciIsIm5leHRRdWVzdGlvbiIsIm5leHRRdWl6IiwiUmVhY3QiLCJDb21wb25lbnQiLCJzZXRTdGF0ZSIsIm5ld1N0YXRlIiwiX29iamVjdFNwcmVhZCIsImRhdGFQb2ludCIsImRhdGVUaW1lU3RyaW5nIiwiRGF0ZSIsInRvTG9jYWxlU3RyaW5nIiwic2NvcmVzIiwicHVzaCIsImRhdGEiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlY29yZEhpc3RvcmljYWxTY29yZSIsIm9uQ2xpY2siLCJzaG93QW5zd2VyIiwiX3RoaXMkc3RhdGUiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiSGVhZGVyIiwicXVlc3Rpb25zUGVyUXVpeiIsIlNjb3JlQm9keSIsIkJvZHkiLCJGb290ZXIiLCJnb0JhY2siLCJfcmVmIiwiX3JlZjIiLCJyZXN1bHRMYWJlbCIsImNob2ljZSIsIlZlcnNlcyIsIl9yZWYzIiwiYnlTY29yZSIsImIiLCJwcmV2aW91c1Njb3JlcyIsInNsaWNlIiwiY3VycmVudCIsInBvcCIsInNvcnQiLCJ0b3BUZW4iLCJtYXAiLCJpdGVtIiwic3R5bGUiLCJjb2xvciIsInRleHRBbGlnbiIsIl9yZWY0IiwicHJldlZlcnNlVGV4dCIsIl92ZXJzZUFycmF5NCIsImdldFByZXZWZXJzZSIsInZlcnNlVGV4dCIsIm5leHRWZXJzZVRleHQiLCJfdmVyc2VBcnJheTUiLCJnZXROZXh0VmVyc2UiLCJCT09LX0NPTE9SUyIsIl9yZWY1IiwiaHJlZiIsIkJ0biIsIm51bUNoYXB0ZXJzIiwiQXJyYXkiLCJhcHBseSIsIk51bWJlciIsIl9yZWY2IiwiY2hpbGRyZW4iLCJiYWNrZ3JvdW5kQ29sb3IiLCJwYXJzZSIsImdldEl0ZW0iLCJfdW51c2VkIiwibG9jYWxMb2FkIiwiUmVhY3RET00iLCJyZW5kZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixF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UmxCLE1BQzlCLE9BQU83QyxNQUFBb0IsY0FBQSxPQUFLd0IsTUFBTyxDQUFDcUIsZ0JBQWlCcEIsR0FBUXhCLFVBQVUsU0FBU0osUUFBU0EsR0FBVStDLEdBWXZGLFNBQVN4RSxJQUNMLElBQUlpQixFQVdSLFNBQW1CbEYsRUFBS29GLEdBQ3BCLElBQ0ksT0FBT0csS0FBS29ELE1BQU10RCxhQUFhdUQsUUFBUSxZQUN6QyxNQUFBQyxHQUNFLE9BQU8sTUFmRUMsR0FJYixPQUhlLE9BQVg1RCxJQUNBQSxFQUFTLElBRU5BLEVBZVg2RCxTQUFTQyxPQUNQdkUsTUFBQW9CLGNBQUN0QyxFQUFELENBQUt2RSxLQUFLLFdBQ1ZpSyxTQUFTQyxlQUFlIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL2Rpc3QvXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCBcIi4vaW5kZXguc2Nzc1wiO1xuXG5jb25zdCBRVUVTVElPTlNfUEVSX1FVSVogPSAxMDtcblxuY29uc3QgQk9PS1MgPSBbJ0dlbmVzaXMnLCAnRXhvZHVzJywgJ0xldml0aWN1cycsICdOdW1iZXJzJywgJ0RldXRlcm9ub215J107XG5cbmNvbnN0IENIQVBURVJTX1BFUl9CT09LID0gWzUwLCA0MCwgMjcsIDM2LCAzNF07XG5cbmZ1bmN0aW9uIGdldFJhbmRvbVZlcnNlKCkge1xuICAgIGNvbnN0IGJvb2tJbmRleCA9IGdldFJhbmRvbUludFdlaWdodGVkKENIQVBURVJTX1BFUl9CT09LKTtcbiAgICBjb25zdCBjaGFwdGVycyA9IFBFTlRBVEVVQ0hbYm9va0luZGV4XS5jaGFwdGVycztcbiAgICBjb25zdCBjaGFwdGVySW5kZXggPSBnZXRSYW5kb21JbnQoY2hhcHRlcnMubGVuZ3RoKTtcbiAgICBjb25zdCB2ZXJzZXMgPSBjaGFwdGVyc1tjaGFwdGVySW5kZXhdLnZlcnNlcztcbiAgICBjb25zdCB2ZXJzZUluZGV4ID0gZ2V0UmFuZG9tSW50KHZlcnNlcy5sZW5ndGgpXG4gICAgcmV0dXJuIFtib29rSW5kZXggKyAxLCBjaGFwdGVySW5kZXggKyAxLCB2ZXJzZUluZGV4ICsgMV1cbn1cblxuZnVuY3Rpb24gdmVyc2VUb0xhYmVsKHZlcnNlQXJyYXkpIHtcbiAgICBsZXQgYm9va051bSwgY2hhcHRlciwgdmVyc2U7XG4gICAgaWYgKHZlcnNlQXJyYXkubGVuZ3RoID09PSAzKSB7XG4gICAgICAgIFtib29rTnVtLCBjaGFwdGVyLCB2ZXJzZV0gPSB2ZXJzZUFycmF5O1xuICAgICAgICByZXR1cm4gYm9va051bVRvTGFiZWwoYm9va051bSkgKyAnICcgKyBjaGFwdGVyICsgJy4nICsgdmVyc2U7XG4gICAgfSBlbHNlIGlmICh2ZXJzZUFycmF5Lmxlbmd0aCA9PT0gMikge1xuICAgICAgICBbYm9va051bSwgY2hhcHRlcl0gPSB2ZXJzZUFycmF5O1xuICAgICAgICByZXR1cm4gYm9va051bVRvTGFiZWwoYm9va051bSkgKyAnICcgKyBjaGFwdGVyO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYm9va051bVRvTGFiZWwoYm9va051bSkge1xuICAgIHJldHVybiBCT09LU1tib29rTnVtIC0gMV07XG59XG5cbmZ1bmN0aW9uIGdldFJhbmRvbUludChtYXgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5mbG9vcihtYXgpKTtcbn1cblxuZnVuY3Rpb24gZ2V0UmFuZG9tSW50V2VpZ2h0ZWQobGVuZ3Rocykge1xuICAgIC8vIHVzZWQgdG8gd2VpZ2h0IGJvb2tzIG9mIGJpYmxlIGJ5IGNoYXB0ZXIgbGVuZ3RoXG4gICAgY29uc3Qgc3VtID0gbGVuZ3Rocy5yZWR1Y2UoKHBhcnRpYWxfc3VtLCBhKSA9PiBwYXJ0aWFsX3N1bSArIGEpO1xuICAgIGNvbnN0IGkgPSBnZXRSYW5kb21JbnQoc3VtKTtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGxldCBydW5uaW5nU3VtID0gbGVuZ3Roc1tpbmRleF07XG4gICAgd2hpbGUgKGkgPj0gcnVubmluZ1N1bSkge1xuICAgICAgICBpbmRleCArPSAxO1xuICAgICAgICBydW5uaW5nU3VtICs9IGxlbmd0aHNbaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIGdldFBvaW50cyhib29rQ2hvaWNlLCBjaGFwdGVyQ2hvaWNlLCBhbnN3ZXJWZXJzZUFycmF5KSB7XG4gICAgbGV0IHBvaW50cyA9IDA7XG4gICAgY29uc3QgW2Jvb2tBbnN3ZXIsIGNoYXB0ZXJBbnN3ZXIsIF9dID0gYW5zd2VyVmVyc2VBcnJheTtcbiAgICBpZiAoYm9va0Nob2ljZSA9PT0gYm9va0Fuc3dlcikge1xuICAgICAgICBwb2ludHMgKz0gMTA7XG4gICAgICAgIGNvbnN0IGNoYXB0ZXJzT2ZmID0gTWF0aC5hYnMoY2hhcHRlckNob2ljZSAtIGNoYXB0ZXJBbnN3ZXIpO1xuICAgICAgICBpZiAoY2hhcHRlcnNPZmYgPT09IDApIHtcbiAgICAgICAgICAgIHBvaW50cyArPSA5MDtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFwdGVyc09mZiA8PSA1KSB7XG4gICAgICAgICAgICBwb2ludHMgKz0gKDYwIC0gMTAqY2hhcHRlcnNPZmYpXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBvaW50cztcbn1cblxuZnVuY3Rpb24gZ2V0VmVyc2VUZXh0KHZlcnNlQXJyYXkpIHtcbiAgICBjb25zdCBbYm9va051bSwgY2hhcHRlck51bSwgdmVyc2VOdW1dID0gdmVyc2VBcnJheTtcbiAgICBjb25zdCBib29rID0gUEVOVEFURVVDSFtib29rTnVtIC0gMV07XG4gICAgY29uc3QgY2hhcHRlciA9IGJvb2suY2hhcHRlcnNbY2hhcHRlck51bSAtIDFdXG4gICAgY29uc3QgdmVyc2UgPSBjaGFwdGVyLnZlcnNlc1t2ZXJzZU51bSAtIDFdO1xuICAgIGlmICh2ZXJzZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2ZXJzZVtTdHJpbmcodmVyc2VOdW0pXTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGZsYXRBcnJheXNFcXVhbChhLCBiKSB7XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbmNsYXNzIEFwcCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgc2NvcmU6IDAsXG4gICAgICAgICAgICBxdWVzdGlvbk51bTogMCxcbiAgICAgICAgICAgIHZlcnNlOiBnZXRSYW5kb21WZXJzZSgpLFxuICAgICAgICAgICAgYm9va0Nob2ljZTogbnVsbCxcbiAgICAgICAgICAgIGNoYXB0ZXJDaG9pY2U6IG51bGwsXG4gICAgICAgICAgICBoaXN0b3J5OiBsb2FkSGlzdG9yeSgpLFxuICAgICAgICAgICAgc2hvd0hpc3Rvcnk6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnBpY2tCb29rID0gdGhpcy5waWNrQm9vay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnVuZG9Cb29rQ2hvaWNlID0gdGhpcy51bmRvQm9va0Nob2ljZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnBpY2tDaGFwdGVyID0gdGhpcy5waWNrQ2hhcHRlci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm5leHRRdWVzdGlvbiA9IHRoaXMubmV4dFF1ZXN0aW9uLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubmV4dFF1aXogPSB0aGlzLm5leHRRdWl6LmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgcGlja0Jvb2soYm9va0Nob2ljZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtib29rQ2hvaWNlfSk7XG4gICAgfVxuXG4gICAgdW5kb0Jvb2tDaG9pY2UoKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2Jvb2tDaG9pY2U6IG51bGx9KTtcbiAgICB9XG5cbiAgICBwaWNrQ2hhcHRlcihjaGFwdGVyQ2hvaWNlKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSBnZXRQb2ludHMoc3RhdGUuYm9va0Nob2ljZSwgY2hhcHRlckNob2ljZSwgc3RhdGUudmVyc2UpXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNoYXB0ZXJDaG9pY2UsXG4gICAgICAgICAgICAgICAgcXVlc3Rpb25OdW06IHN0YXRlLnF1ZXN0aW9uTnVtICsgMSxcbiAgICAgICAgICAgICAgICBzY29yZTogc3RhdGUuc2NvcmUgKyBwb2ludHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBuZXh0UXVlc3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgICAgICB2ZXJzZTogZ2V0UmFuZG9tVmVyc2UoKSxcbiAgICAgICAgICAgICAgICBib29rQ2hvaWNlOiBudWxsLFxuICAgICAgICAgICAgICAgIGNoYXB0ZXJDaG9pY2U6IG51bGwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHN0YXRlLnF1ZXN0aW9uTnVtID09PSBRVUVTVElPTlNfUEVSX1FVSVopIHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YVBvaW50ID0gcmVjb3JkSGlzdG9yaWNhbFNjb3JlKHN0YXRlLnNjb3JlKTtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZS5oaXN0b3J5LnB1c2goZGF0YVBvaW50KTtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZS5zY29yZSA9IDA7XG4gICAgICAgICAgICAgICAgbmV3U3RhdGUucXVlc3Rpb25OdW0gPSAwO1xuICAgICAgICAgICAgICAgIG5ld1N0YXRlLnNob3dIaXN0b3J5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbmV4dFF1aXooKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dIaXN0b3J5OiBmYWxzZX0pO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3Qge3Njb3JlLCBxdWVzdGlvbk51bSwgdmVyc2UsIGJvb2tDaG9pY2UsIGNoYXB0ZXJDaG9pY2UsIHNob3dIaXN0b3J5LCBoaXN0b3J5fSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGxldCBvbkNsaWNrO1xuICAgICAgICBsZXQgc2hvd0Fuc3dlcjtcbiAgICAgICAgaWYgKHNob3dIaXN0b3J5KSB7XG4gICAgICAgICAgICBvbkNsaWNrID0gdGhpcy5uZXh0UXVpejtcbiAgICAgICAgfSBlbHNlIGlmIChib29rQ2hvaWNlID09PSBudWxsKSB7XG4gICAgICAgICAgICBvbkNsaWNrID0gdGhpcy5waWNrQm9vaztcbiAgICAgICAgICAgIHNob3dBbnN3ZXIgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFwdGVyQ2hvaWNlID09PSBudWxsKSB7XG4gICAgICAgICAgICBvbkNsaWNrID0gdGhpcy5waWNrQ2hhcHRlcjtcbiAgICAgICAgICAgIHNob3dBbnN3ZXIgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9uQ2xpY2sgPSB0aGlzLm5leHRRdWVzdGlvbjtcbiAgICAgICAgICAgIHNob3dBbnN3ZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFwcFwiPlxuICAgICAgICAgICAgICAgIDxIZWFkZXIgc2NvcmU9e3Njb3JlfSBxdWVzdGlvbk51bT17cXVlc3Rpb25OdW19IHF1ZXN0aW9uc1BlclF1aXo9e1FVRVNUSU9OU19QRVJfUVVJWn0gLz5cbiAgICAgICAgICAgICAgICB7c2hvd0hpc3RvcnkgP1xuICAgICAgICAgICAgICAgICAgICA8U2NvcmVCb2R5IGhpc3Rvcnk9e2hpc3Rvcnl9IC8+IDpcbiAgICAgICAgICAgICAgICAgICAgPEJvZHkgc2hvd0Fuc3dlcj17c2hvd0Fuc3dlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJzZT17dmVyc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9va0Nob2ljZT17Ym9va0Nob2ljZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFwdGVyQ2hvaWNlPXtjaGFwdGVyQ2hvaWNlfSAvPlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA8Rm9vdGVyIGJvb2tDaG9pY2U9e2Jvb2tDaG9pY2V9XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFwdGVyQ2hvaWNlPXtjaGFwdGVyQ2hvaWNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgICAgICAgICAgICAgICAgICAgIGdvQmFjaz17dGhpcy51bmRvQm9va0Nob2ljZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dIaXN0b3J5PXtzaG93SGlzdG9yeX0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gSGVhZGVyICh7c2NvcmUsIHF1ZXN0aW9uTnVtLCBxdWVzdGlvbnNQZXJRdWl6fSkge1xuICAgIC8vIFRPRE86IGdldCBnbG93IGFuaW1hdGlvbiB0byByZXRyaWdnZXJcbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlclwiPlxuICAgICAgICAgICAgPGgyPlBlbnRhdGV1Y2ggUXVpejwvaDI+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwiZ2xvd1wiPlNDT1JFOiB7c2NvcmV9PC9oMj5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJnbG93XCI+e3F1ZXN0aW9uTnVtfS97cXVlc3Rpb25zUGVyUXVpen08L2gyPlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufVxuXG5cbmZ1bmN0aW9uIEJvZHkgKHtzaG93QW5zd2VyLCB2ZXJzZSwgYm9va0Nob2ljZSwgY2hhcHRlckNob2ljZX0pIHtcbiAgICBpZiAoc2hvd0Fuc3dlcikge1xuICAgICAgICBsZXQgcmVzdWx0TGFiZWw7XG4gICAgICAgIGNvbnN0IGNob2ljZSA9IHZlcnNlVG9MYWJlbChbYm9va0Nob2ljZSwgY2hhcHRlckNob2ljZV0pO1xuICAgICAgICBjb25zdCBwb2ludHMgPSBnZXRQb2ludHMoYm9va0Nob2ljZSwgY2hhcHRlckNob2ljZSwgdmVyc2UpO1xuICAgICAgICBpZiAodmVyc2VbMF0gPT09IGJvb2tDaG9pY2UgJiYgdmVyc2VbMV0gPT09IGNoYXB0ZXJDaG9pY2UpIHtcbiAgICAgICAgICAgIHJlc3VsdExhYmVsID0gPHAgY2xhc3NOYW1lPVwiYm9keV9fY29ycmVjdFwiPkNPUlJFQ1QhPGJyIC8+K3twb2ludHN9IHBvaW50cyE8L3A+O1xuICAgICAgICB9IGVsc2UgaWYgKHZlcnNlWzBdID09PSBib29rQ2hvaWNlKSB7XG4gICAgICAgICAgICByZXN1bHRMYWJlbCA9IDxwIGNsYXNzTmFtZT1cImJvZHlfX2Nsb3NlXCI+Q2xvc2UsIHlvdSBjaG9zZSB7Y2hvaWNlfS48YnIgLz4re3BvaW50c30gcG9pbnRzPC9wPjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdExhYmVsID0gPHAgY2xhc3NOYW1lPVwiYm9keV9fd3JvbmdcIj5Xcm9uZywgeW91IGNob3NlIHtjaG9pY2V9PC9wPjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib2R5XCI+XG4gICAgICAgICAgICAgICAgPGgyPnt2ZXJzZVRvTGFiZWwodmVyc2UpfTwvaDI+XG4gICAgICAgICAgICAgICAgPFZlcnNlcyB2ZXJzZUFycmF5PXt2ZXJzZX0gLz5cbiAgICAgICAgICAgICAgICB7cmVzdWx0TGFiZWx9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib2R5XCI+XG4gICAgICAgICAgICAgICAgPFZlcnNlcyB2ZXJzZUFycmF5PXt2ZXJzZX0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gU2NvcmVCb2R5ICh7aGlzdG9yeX0pIHtcbiAgICBjb25zdCBieVNjb3JlID0gKGEsIGIpID0+IGIuc2NvcmUgLSBhLnNjb3JlO1xuICAgIGNvbnN0IHByZXZpb3VzU2NvcmVzID0gaGlzdG9yeS5zbGljZSgpO1xuICAgIGNvbnN0IGN1cnJlbnQgPSBwcmV2aW91c1Njb3Jlcy5wb3AoKTsgIC8vIGN1cnJlbnQgc2NvcmUgaXMgb24gZW5kXG4gICAgY29uc3QgaXNDdXJyZW50ID0gKGEpID0+IGEuZGF0ZVRpbWVTdHJpbmcgPT09IGN1cnJlbnQuZGF0ZVRpbWVTdHJpbmc7XG4gICAgcHJldmlvdXNTY29yZXMuc29ydChieVNjb3JlKTtcbiAgICBjb25zdCB0b3BUZW4gPSBwcmV2aW91c1Njb3Jlcy5zbGljZSgwLCA5KTtcbiAgICB0b3BUZW4ucHVzaChjdXJyZW50KTtcbiAgICB0b3BUZW4uc29ydChieVNjb3JlKTtcbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvZHlcIj5cbiAgICAgICAgICAgIDxwPlRoYW5rIHlvdSBmb3IgcGxheWluZyE8L3A+XG4gICAgICAgICAgICA8dGFibGU+XG4gICAgICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGg+PC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5TY29yZTwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGg+RGF0ZTwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgIHt0b3BUZW4ubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e2l9IHN0eWxlPXtpc0N1cnJlbnQoaXRlbSkgPyB7Y29sb3I6ICcjMjNCRDk4J306IHt9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPntpICsgMX08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3t0ZXh0QWxpZ246ICdyaWdodCd9fT57aXRlbS5zY29yZX08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e2l0ZW0uZGF0ZVRpbWVTdHJpbmd9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59XG5cbmZ1bmN0aW9uIFZlcnNlcyh7dmVyc2VBcnJheX0pIHtcbiAgICBjb25zdCBwcmV2VmVyc2VUZXh0ID0gZ2V0UHJldlZlcnNlKHZlcnNlQXJyYXkpO1xuICAgIGNvbnN0IHZlcnNlVGV4dCA9IGdldFZlcnNlVGV4dCh2ZXJzZUFycmF5KTtcbiAgICBjb25zdCBuZXh0VmVyc2VUZXh0ID0gZ2V0TmV4dFZlcnNlKHZlcnNlQXJyYXkpO1xuICAgIHJldHVybiAoXG4gICAgICAgIDxwPlxuICAgICAgICAgICAge3ByZXZWZXJzZVRleHQgPyA8c3BhbiBjbGFzc05hbWU9XCJib2R5X19jb250ZXh0XCI+e3ByZXZWZXJzZVRleHQgKyAnICd9PC9zcGFuPiA6IG51bGx9XG4gICAgICAgICAgICA8c3Bhbj57dmVyc2VUZXh0fTwvc3Bhbj5cbiAgICAgICAgICAgIHtuZXh0VmVyc2VUZXh0ID8gPHNwYW4gY2xhc3NOYW1lPVwiYm9keV9fY29udGV4dFwiPnsnICcgKyBuZXh0VmVyc2VUZXh0fTwvc3Bhbj4gOiBudWxsfVxuICAgICAgICA8L3A+XG4gICAgKTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJldlZlcnNlKHZlcnNlQXJyYXkpIHtcbiAgICBjb25zdCBbYm9va051bSwgY2hhcHRlck51bSwgdmVyc2VOdW1dID0gdmVyc2VBcnJheTtcbiAgICBpZiAodmVyc2VOdW0gPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldFZlcnNlVGV4dChbYm9va051bSwgY2hhcHRlck51bSwgdmVyc2VOdW0gLSAxXSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXROZXh0VmVyc2UodmVyc2VBcnJheSkge1xuICAgIGNvbnN0IFtib29rTnVtLCBjaGFwdGVyTnVtLCB2ZXJzZU51bV0gPSB2ZXJzZUFycmF5O1xuICAgIC8vIHJlbGllcyBvbiBgZ2V0VmVyc2VUZXh0YCByZXR1cm4gdW5kZWZpbmVkIGlmIGl0IGlzIHRoZSBsYXN0IHZlcnNlIGluIGEgY2hhcHRlclxuICAgIHJldHVybiBnZXRWZXJzZVRleHQoW2Jvb2tOdW0sIGNoYXB0ZXJOdW0sIHZlcnNlTnVtICsgMV0pIHx8IG51bGw7XG59XG5cbmNvbnN0IEJPT0tfQ09MT1JTID0gWycjRUM2QjM0JywgJyMzQzY0REMnLCAnIzU1QUVFRScsICcjQUU5QkZCJywgJyNGNTlBMkYnXTtcblxuZnVuY3Rpb24gRm9vdGVyICh7Ym9va0Nob2ljZSwgY2hhcHRlckNob2ljZSwgb25DbGljaywgZ29CYWNrLCBzaG93SGlzdG9yeX0pIHtcbiAgICBpZiAoc2hvd0hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9vdGVyX19oZWxwXCI+UGxlYXNlIHNoYXJlIHdpdGggZnJpZW5kcyE8YnIgLz5Nb3JlIHF1aXp6ZXMgd2lsbCBjb21lIGlmIGludGVyZXN0IDxhIGhyZWY9XCJtYWlsdG86YXJ0c2FuZG1ldGFwaHlzaWNzQGdtYWlsLmNvbVwiPkNvbnRhY3QgQ3JlYXRvcjwvYT48L3A+XG4gICAgICAgICAgICAgICAgPEJ0biBjb2xvcj17JyM1RDREQzMnfSBvbkNsaWNrPXtvbkNsaWNrfT5TdGFydCBOZXcgUXVpejwvQnRuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfSBlbHNlIGlmIChib29rQ2hvaWNlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvb3RlclwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvb3Rlcl9faGVscFwiPldoaWNoIGJvb2sgaXMgdGhlIDxzcGFuIHN0eWxlPXt7Y29sb3I6ICcjMzMzJ319PmJsYWNrPC9zcGFuPiB2ZXJzZSBpbj88L3A+XG4gICAgICAgICAgICAgICAgPEJ0biBjb2xvcj17Qk9PS19DT0xPUlNbMF19IG9uQ2xpY2s9eygpID0+IG9uQ2xpY2soMSl9PkdlbmVzaXM8L0J0bj5cbiAgICAgICAgICAgICAgICA8QnRuIGNvbG9yPXtCT09LX0NPTE9SU1sxXX0gb25DbGljaz17KCkgPT4gb25DbGljaygyKX0+RXhvZHVzPC9CdG4+XG4gICAgICAgICAgICAgICAgPEJ0biBjb2xvcj17Qk9PS19DT0xPUlNbMl19IG9uQ2xpY2s9eygpID0+IG9uQ2xpY2soMyl9Pkxldml0aWN1czwvQnRuPlxuICAgICAgICAgICAgICAgIDxCdG4gY29sb3I9e0JPT0tfQ09MT1JTWzNdfSBvbkNsaWNrPXsoKSA9PiBvbkNsaWNrKDQpfT5OdW1iZXJzPC9CdG4+XG4gICAgICAgICAgICAgICAgPEJ0biBjb2xvcj17Qk9PS19DT0xPUlNbNF19IG9uQ2xpY2s9eygpID0+IG9uQ2xpY2soNSl9PkRldXQuPC9CdG4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGNoYXB0ZXJDaG9pY2UgPT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgbnVtQ2hhcHRlcnMgPSBDSEFQVEVSU19QRVJfQk9PS1tib29rQ2hvaWNlIC0gMV07XG4gICAgICAgIGNvbnN0IGNoYXB0ZXJzID0gQXJyYXkuYXBwbHkobnVsbCwge2xlbmd0aDogbnVtQ2hhcHRlcnN9KS5tYXAoTnVtYmVyLmNhbGwsIE51bWJlcik7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gQk9PS19DT0xPUlNbYm9va0Nob2ljZSAtIDFdO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb290ZXJcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb290ZXJfX2hlbHBcIj5BbmQgd2hpY2ggY2hhcHRlcj88L3A+XG4gICAgICAgICAgICAgICAge2NoYXB0ZXJzLm1hcChpID0+IDxCdG4gY29sb3I9e2NvbG9yfSBrZXk9e2l9IG9uQ2xpY2s9eygpID0+IG9uQ2xpY2soaSArIDEpfT57aSArIDF9PC9CdG4+KX1cbiAgICAgICAgICAgICAgICA8QnRuIGNvbG9yPXtcIiM5OTlcIn0gb25DbGljaz17Z29CYWNrfT5CYWNrPC9CdG4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb290ZXJcIj5cbiAgICAgICAgICAgICAgICA8QnRuIGNvbG9yPXsnIzVENERDMyd9IG9uQ2xpY2s9e29uQ2xpY2t9Pk5leHQgUXVlc3Rpb248L0J0bj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gQnRuICh7Y2hpbGRyZW4sIG9uQ2xpY2ssIGNvbG9yfSkge1xuICAgIHJldHVybiA8ZGl2IHN0eWxlPXt7YmFja2dyb3VuZENvbG9yOiBjb2xvcn19IGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9e29uQ2xpY2t9PntjaGlsZHJlbn08L2Rpdj5cbn1cblxuZnVuY3Rpb24gcmVjb3JkSGlzdG9yaWNhbFNjb3JlKHNjb3JlKSB7XG4gICAgY29uc3QgZGF0ZVRpbWVTdHJpbmcgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCk7XG4gICAgY29uc3Qgc2NvcmVzID0gbG9hZEhpc3RvcnkoKTtcbiAgICBjb25zdCBkYXRhUG9pbnQgPSB7ZGF0ZVRpbWVTdHJpbmcsIHNjb3JlfTtcbiAgICBzY29yZXMucHVzaChkYXRhUG9pbnQpO1xuICAgIGxvY2FsU2F2ZSgnaGlzdG9yeScsIHNjb3Jlcyk7XG4gICAgcmV0dXJuIGRhdGFQb2ludDtcbn1cblxuZnVuY3Rpb24gbG9hZEhpc3RvcnkoKSB7XG4gICAgbGV0IHNjb3JlcyA9IGxvY2FsTG9hZCgnaGlzdG9yeScpO1xuICAgIGlmIChzY29yZXMgPT09IG51bGwpIHtcbiAgICAgICAgc2NvcmVzID0gW107XG4gICAgfVxuICAgIHJldHVybiBzY29yZXM7XG59XG5cbmZ1bmN0aW9uIGxvY2FsU2F2ZShrZXksIGRhdGEpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbn1cblxuZnVuY3Rpb24gbG9jYWxMb2FkKGtleSwgZGF0YSkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdoaXN0b3J5JykpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cblJlYWN0RE9NLnJlbmRlcihcbiAgPEFwcCBuYW1lPVwiVGF5bG9yXCIgLz4sXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHAnKVxuKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=